{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,U,cACMC,QAGNC,OAAOC,iBAAiB,QAAQ,WAC9B,IAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASC,cAAc,SACpCE,EAAkBH,SAASC,cAAc,YACzCG,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,wBAC7CJ,GACFF,EAAWO,MAAQL,EAASM,MAC5BP,EAAgBM,MAAQL,EAASO,UAEjCT,EAAWO,MAAQ,GACnBN,EAAgBM,MAAQ,IAI1B,IAAMG,EAAyBlB,EAAAmB,QAAEC,UAAS,SAAAL,GACxCF,aAAaQ,QAAQ,sBAAuBN,E,GAC3C,KAGH,SAASO,IACP,IAAMC,EAAW,CACfP,MAAOR,EAAWO,MAClBE,QAASR,EAAgBM,OAG3BG,EAAuBP,KAAKa,UAAUD,G,CAKxCf,EAAWJ,iBAAiB,QAASkB,GACrCb,EAAgBL,iBAAiB,QAASkB,GAG1CjB,EAAKD,iBAAiB,UAAU,SAAAqB,GAC9BA,EAAMC,iBACJb,aAAWc,QAGX,IAAIJ,EAAW,CACfP,MAAOR,EAAWO,MAClBE,QAASR,EAAgBM,OAIxBa,QAAKC,IAAIN,GAGZf,EAAWO,MAAQ,GACnBN,EAAgBM,MAAQ,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\nconst { entries } = require('lodash');\n//przeładowanie strony\n//podpunkt 2-done\nwindow.addEventListener('load', () => {\n  const form = document.querySelector('.feedback-form');\n  const emailInput = document.querySelector('input');\n  const messageTextarea = document.querySelector('textarea');\n  const formData = JSON.parse(localStorage.getItem('feedback-form-state'));\n  if (formData) {\n    emailInput.value = formData.email;\n    messageTextarea.value = formData.message;\n  } else {\n    emailInput.value = '';\n    messageTextarea.value = '';\n  }\n\n  //podpunkt 4-done\n  const throttledUpdateStorage = _.throttle(value => {\n    localStorage.setItem('feedback-form-state', value);\n  }, 500);\n\n  //podpunkt 1-done\n  function saveFormDataToStorage() {\n    const formData = {\n      email: emailInput.value,\n      message: messageTextarea.value,\n    };\n\n    throttledUpdateStorage(JSON.stringify(formData));\n  }\n\n  //event input-zdarzenie, wywoływane za kazdym razem, gdy wartość pola formularza\n  //zostaje zmieniona przez uytkownika.\n  emailInput.addEventListener('input', saveFormDataToStorage);\n  messageTextarea.addEventListener('input', saveFormDataToStorage);\n\n  //podpunkt 3-done\n  form.addEventListener('submit', event => {\n    event.preventDefault(); //zatrzymujemy domyślne działanie formularza\n    localStorage.clear(); //usuwamy dane ze storage\n\n    //tworzymy obiekt z aktualnymi wartościami pól\n    const formData = {\n      email: emailInput.value,\n      message: messageTextarea.value,\n    };\n\n    //wyświetlamy obiekt z wartościami pól w konsoli\n    console.log(formData);\n\n    //czyścimy pola formularza dopiero po wypisaniu danych na konsolę\n    emailInput.value = '';\n    messageTextarea.value = '';\n  });\n});\n"],"names":["$1WSnx","parcelRequire","entries","window","addEventListener","form","document","querySelector","emailInput","messageTextarea","formData1","JSON","parse","localStorage","getItem","value","email","message","throttledUpdateStorage","default","throttle","setItem","saveFormDataToStorage","formData","stringify","event","preventDefault","clear","console","log"],"version":3,"file":"03-feedback.057bc284.js.map"}